<!DOCTYPE html>
<html lang="es">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Carlos • Asesoría Financiera</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Librerías externas -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
</head>
<body>

  <!-- HEADER Y MENÚ DE NAVEGACIÓN -->
  <header role="banner" class="header-elevado">
    <div class="container header-content">
      <div class="logo-area">
        <h1 class="logo">Carlos<span> • Asesoría Financiera</span></h1>
      </div>
      <button class="nav-toggle" aria-label="Abrir menú móvil">☰</button>
      <nav role="navigation" aria-label="Menú principal">
        <ul>
          <li><a href="#inicio">Inicio</a></li>
          <li><a href="#quien-soy">Quién Soy</a></li>
          <li><a href="#casos-exito">Casos de Éxito</a></li>
          <li><a href="#asesorias">Asesorías</a></li>
          <li><a href="#modelos">Modelos</a></li>
          <li><a href="#test-perfil">Test Perfil</a></li>
          <li><a href="#simulador">Simulador</a></li>
          <li><a href="#proteccion">Protección</a></li>
          <li><a href="#newsletter">Newsletter</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </nav>
    </div>
  </header>
  

  <!-- CONTENIDO PRINCIPAL -->
  <main>

    <!-- HERO SECTION -->
    <section id="inicio" class="hero">
      <div class="container hero-content">
        <h2>Bienvenido a tu libertad financiera</h2>
        <p>Asesoría personalizada en ETFs, acciones y real estate para que tomes el control de tu dinero.</p>
        <a href="#newsletter" class="btn-primary">Suscríbete al Newsletter</a>
      </div>
    </section>

    <!-- QUIÉN SOY -->
    <section id="quien-soy" class="section section-personal section-bg-light">
      <div class="quien-soy-box">
        <h2>Quién soy</h2>
        <p>
          Hace unos años decidí tomar las riendas de mis finanzas personales. No siempre tuve el control, pero me obsesioné con aprender, me formé, y convertí esa experiencia en algo útil para otros.
        </p>
        <p>
          Me di cuenta de que muchísimas personas nunca han recibido una verdadera educación financiera. Lo poco que existe suele ser técnico, inaccesible o mal explicado. Así que decidí crear algo distinto: práctico, claro y bien diseñado.
        </p>
        <p>
          Soy licenciado en Economía, especializado en herramientas de análisis financiero. Esta web nace con un objetivo: <strong>acercar las finanzas a quienes más lo necesitan</strong>.
        </p>
      
  <!-- Contenedor centrado -->
  <div class="centrado-bloque-final">
    <a href="#asesorias" class="btn-primary">Conoce mis asesorías</a>
    <div class="firma">
      <span><strong>Carlos</strong></span>
      <span class="rol">Asesor financiero</span>
    </div>
  </div>
</div>    
    </section>    
    

    <!-- CASOS DE ÉXITO -->
    <section id="casos-exito" class="section section-casos-exito">
      <div class="container">
        <h2>Casos de Éxito</h2>
        <div class="casos-grid">
          <div class="caso-card">
            <img src="https://via.placeholder.com/80?text=LG" alt="Laura G." />
            <h4>Laura G.</h4>
            <p>“Gracias a la asesoría, logré ahorrar 200€ al mes y empecé a invertir en ETFs. Ahora tengo más tranquilidad y objetivos reales.”</p>
          </div>
          <div class="caso-card">
            <img src="https://via.placeholder.com/80?text=PM" alt="Pedro M." />
            <h4>Pedro M.</h4>
            <p>“Pasé de no entender nada de inversiones a gestionar mi capital con confianza. Carlos me dio las herramientas justas y claras.”</p>
          </div>
          <div class="caso-card">
            <img src="https://via.placeholder.com/80?text=AJ" alt="Ana y Jorge" />
            <h4>Ana y Jorge</h4>
            <p>“Como familia con ingresos bajos, no pensábamos que podíamos invertir. Ahora tenemos un fondo común que crece cada mes.”</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ASESORÍAS -->
    <section id="asesorias" class="section section-asesorias section-bg-dark">
      <div class="container">
        <h2>Elige tu plan de asesoría</h2>
        <div class="planes-grid">
    
          <!-- Plan Accesible -->
          <div class="plan-card accesible">
            <h3>🟦 Accesible</h3>
            <p class="precio">9 €/mes</p>
            <p class="descripcion-accesible">
              Servicio dedicado a quienes ingresan menos de 1500 €/mes o no tienen formación financiera.  
              Accede a asesoramiento real por una cuota asequible.
            </p>
            <ul>
              <li>✔️ Asesoría básica mensual</li>
              <li>✔️ Revisión de cartera cada 45 días</li>
              <li>✔️ Acceso a grupo privado básico</li>
              <li>✔️ Suscripción a newsletter</li>
            </ul>
            <a href="#contacto" class="btn-primary">Quiero este plan</a>
          </div>

          <!-- Plan Premium -->
          <div class="plan-card premium">
            <h3>🔶 Premium</h3>
            <p class="precio">29 €/mes</p>
            <p class="descripcion-premium">
              Pensado para quienes quieren dar un salto real en su educación financiera.  
              Ideal si ya inviertes o quieres empezar con una estrategia clara,  
              seguimiento personalizado y contenido exclusivo cada semana.
            </p>
            <ul>
              <li>✨ Todo lo del plan Accesible</li>
              <li>📊 Revisión mensual de cartera</li>
              <li>📞 Llamada 1:1 mensual (30 min)</li>
              <li>📰 Blog privado con análisis semanal</li>
              <li>⚡ Soporte prioritario</li>
              <li>📬 Newsletter extendida</li>
            </ul>
            <a href="#contacto" class="btn-primary">Quiero el Premium</a>
          </div>

    
        </div>
      </div>
    </section>

<!-- MODELOS DE INVERSIÓN POR OBJETIVO -->
<section class="section section-modelos-objetivo">
  <div class="container">
    <h2>Modelos de Inversión por Objetivo</h2>
    <p class="subtitulo">Diseño de carteras personalizadas según tus metas financieras</p>
    <p class="modelo-extra-desc">
  Todos estos modelos se adaptan a tu situación actual y evolucionan contigo.  
  Analizamos tus ingresos, objetivos y tolerancia al riesgo para ofrecerte una estrategia realista y sostenible.
</p>


<div class="objetivo-grid filas-dos-niveles">

  <div class="fila fila-1">
    <div class="objetivo-card">
      <h3>🏡 Comprar una vivienda</h3>
      <p>Ahorro planificado + inversión conservadora a 3–5 años. Ideal para alcanzar una entrada sin depender del banco.</p>
      <a href="#contacto" class="modelo-btn modelo-vivienda" data-modelo="Comprar una vivienda">Quiero este modelo</a>
    </div>

    <div class="objetivo-card">
      <h3>💼 Plan de jubilación</h3>
      <p>Carteras a largo plazo con ETFs globales, baja rotación y efecto compuesto progresivo.</p>
      <a href="#contacto" class="modelo-btn modelo-jubilacion" data-modelo="Plan de jubilación">Quiero este modelo</a>
    </div>

    <div class="objetivo-card">
      <h3>💸 Ingresos mensuales</h3>
      <p>REITs, dividendos y activos defensivos para generar flujo sin necesidad de vender.</p>
      <a href="#contacto" class="modelo-btn modelo-ingresos" data-modelo="Ingresos mensuales">Quiero este modelo</a>
    </div>
  </div>

  <div class="fila fila-2">
    <div class="objetivo-card">
      <h3>🚀 Crecimiento agresivo</h3>
      <p>Estrategias con alto potencial, volatilidad controlada y sectores emergentes.</p>
      <a href="#contacto" class="modelo-btn modelo-crecimiento" data-modelo="Crecimiento agresivo">Quiero este modelo</a>
    </div>

    <div class="objetivo-card">
      <h3>🧱 Protección patrimonial</h3>
      <p>Inversión diversificada, refugios de valor y asesoría estructural para tu tranquilidad.</p>
      <a href="#contacto" class="modelo-btn modelo-patrimonial" data-modelo="Protección patrimonial">Quiero este modelo</a>
    </div>
  </div>

</div>


    <div style="text-align: center; margin-top: 2rem;">
      <a href="#contacto" class="btn-primary">Solicita tu asesoría personalizada</a>
    </div>
  </div>
</section>


    <!-- TEST DE INVERSION -->
    <section id="test-perfil" class="section section-test">
  <div class="container test-wrapper">

    <!-- Intro con botón -->
    <div class="intro-test">
      <h2>¿Qué tipo de inversor eres?</h2>
      <p>
        Haz este test rápido y descubre si tu perfil es conservador, moderado o agresivo.
        Así podremos ayudarte a invertir con más confianza y según tu estilo real.
      </p>
      <button id="mostrar-test-btn" class="btn-primary" style="margin-top: 1rem;">
        ¡Haz el test ahora!
      </button>
    </div>

    <!-- Bloque oculto del test -->
    <div id="bloque-test-completo" style="display: none;">
      <div id="step-counter" class="step-counter">1 de 10</div>

      <form id="test-form">
        <div class="centered-content">

          <!-- Preguntas del test -->
          <div class="step active">
            <p>1. ¿Cuál es tu objetivo principal?</p>
            <label><input type="radio" name="q1" value="1" required> Seguridad</label>
            <label><input type="radio" name="q1" value="3"> Ingresos</label>
            <label><input type="radio" name="q1" value="5"> Crecimiento</label>
          </div>

          <div class="step">
            <p>2. ¿Horizonte de inversión?</p>
            <label><input type="radio" name="q2" value="1" required> &lt; 1 año</label>
            <label><input type="radio" name="q2" value="3"> 1–5 años</label>
            <label><input type="radio" name="q2" value="5"> &gt; 5 años</label>
          </div>

          <div class="step">
            <p>3. Reacción ante -10% de caída:</p>
            <label><input type="radio" name="q3" value="1" required> Vendo todo</label>
            <label><input type="radio" name="q3" value="3"> Espero</label>
            <label><input type="radio" name="q3" value="5"> Compro más</label>
          </div>

          <div class="step">
            <p>4. % de patrimonio a invertir:</p>
            <label><input type="radio" name="q4" value="1" required> &lt; 20%</label>
            <label><input type="radio" name="q4" value="3"> 20–50%</label>
            <label><input type="radio" name="q4" value="5"> &gt; 50%</label>
          </div>

          <div class="step">
            <p>5. Nivel de conocimientos:</p>
            <label><input type="radio" name="q5" value="1" required> Básicos</label>
            <label><input type="radio" name="q5" value="3"> Intermedios</label>
            <label><input type="radio" name="q5" value="5"> Avanzados</label>
          </div>

          <div class="step">
            <p>6. ¿Necesitas liquidez frecuente?</p>
            <label><input type="radio" name="q6" value="1" required> Sí</label>
            <label><input type="radio" name="q6" value="3"> A veces</label>
            <label><input type="radio" name="q6" value="5"> No</label>
          </div>

          <div class="step">
            <p>7. ¿Con qué frecuencia revisarás tus inversiones?</p>
            <label><input type="radio" name="q7" value="1" required> Diario</label>
            <label><input type="radio" name="q7" value="3"> Mensual</label>
            <label><input type="radio" name="q7" value="5"> Anual</label>
          </div>

          <div class="step">
            <p>8. ¿Comprendes bien el interés compuesto?</p>
            <label><input type="radio" name="q8" value="1" required> No</label>
            <label><input type="radio" name="q8" value="3"> Algo</label>
            <label><input type="radio" name="q8" value="5"> Sí</label>
          </div>

          <div class="step">
            <p>9. ¿Has invertido antes?</p>
            <label><input type="radio" name="q9" value="1" required> Nunca</label>
            <label><input type="radio" name="q9" value="3"> Pocas veces</label>
            <label><input type="radio" name="q9" value="5"> Con frecuencia</label>
          </div>

          <div class="step">
            <p>10. ¿Te afectan las noticias de mercado?</p>
            <label><input type="radio" name="q10" value="1" required> Mucho</label>
            <label><input type="radio" name="q10" value="3"> Algo</label>
            <label><input type="radio" name="q10" value="5"> Casi nada</label>
          </div>
        </div>

        <!-- Botones -->
        <div class="buttons">
          <button type="button" id="prev-btn" class="btn-primary" disabled>Anterior</button>
          <button type="button" id="next-btn" class="btn-primary">Siguiente</button>
        </div>
      </form>

      <!-- Resultado -->
      <div id="test-result" class="test-result" style="display:none;">
        <div id="emoji-perfil" style="font-size: 2.5rem; margin-bottom: 1rem;">🎯</div>
        <h3>Tu perfil de riesgo es: <span id="perfil-texto"></span></h3>
        <p id="perfil-desc"></p>
        <p>📊 Rendimiento anual estimado: <strong id="perfil-return"></strong></p>

        <a href="#planes" class="btn-primary" style="margin-top: 2rem;">Ver plan recomendado</a>
      </div>


    </div> <!-- Fin bloque-test-completo -->

  </div> <!-- Fin container -->
    </section>


    <!-- CALCADORA DE INTERÉS COMPUESTO -->
    <section id="simulador" class="section-compound section-bg-dark">
      <div class="simulador-wrapper">
        <h2>Calculadora de Interés Compuesto</h2>
    
        <form id="calculatorForm">
          <div class="input-row">
            <div class="input-group">
              <label for="initialAmount">Capital Inicial</label>
              <input type="number" step="0.01" id="initialAmount" value="1000" required />
            </div>
            <div class="input-group">
              <label for="periodicDeposit">Aportación Mensual</label>
              <input type="number" step="0.01" id="periodicDeposit" value="200" required />
            </div>
            <div class="input-group">
              <label for="interestRate">Tasa Anual (%)</label>
              <input type="number" step="0.01" id="interestRate" value="5" required />
            </div>
            <div class="input-group">
              <label for="years">Duración (años)</label>
              <input type="number" id="years" value="20" required />
            </div>
          </div>
    
          <div class="button-group">
            <button type="submit" class="btn-primary">Calcular</button>
            <button type="button" class="btn-secondary" onclick="exportPDF()">Exportar a PDF</button>
            <button type="button" class="btn-info" onclick="toggleDarkMode()">Modo Oscuro</button>
          </div>
        </form>
    
        <div id="results" class="result-box">
          <h3>Resultado Final</h3>
          <p><strong>Total Acumulado:</strong> <span id="totalSaved"></span></p>
          <p><strong>Total Aportado:</strong> <span id="totalDeposited"></span></p>
          <p><strong>Intereses Ganados:</strong> <span id="totalInterest"></span></p>
          <button type="button" id="cerrarCalculoBtn" class="btn-secondary">Cerrar cálculo</button>
        </div>
    
    <!-- RESULTADOS GRÁFICOS Y TABLAS -->
    <div id="resultadosGrid" class="resultados-grid">
      <!-- GRÁFICOS: arriba en horizontal -->
      <div class="graficos-box">
        <!-- PIE CHART -->
        <div class="grafico grafico-tarta">
          <canvas id="pieChart" width="400" height="400"></canvas>
          <div class="leyenda-pie" id="leyendaPieChart"></div>
        </div>
      

<!-- NUEVO GRÁFICO DE BARRAS ACUMULADAS -->
    <div class="grafico grafico-barras">
  <canvas id="barChartAcumulado" width="700" height="400"></canvas>
   </div>

      
   <!-- TABLAS: abajo en dos columnas -->
       <div class="tablas-box">
        <div class="tabla">
          <table class="table">
            <thead>
              <tr>
                <th>Año</th><th>Aportación</th><th>Interés</th><th>Balance</th>
              </tr>
            </thead>
            <tbody id="tableBodyLeft"></tbody>
          </table>
        </div>
        <div class="tabla">
          <table class="table">
            <thead>
              <tr>
                <th>Año</th><th>Aportación</th><th>Interés</th><th>Balance</th>
              </tr>
            </thead>
            <tbody id="tableBodyRight"></tbody>
          </table>
        </div>
      </div>
    </div>

    </section>
    


    <!-- PROTECCIÓN PATRIMONIAL -->
    <section id="proteccion" class="section section-proteccion">
      <div class="container">
        <h2 class="text-center mb-4">🛡️ Protección Patrimonial</h2>
        <p class="lead text-center fs-5 mb-4" style="max-width: 700px; margin: 0 auto;">
          Descubre qué tipo de plan de protección patrimonial es más adecuado para ti.
        </p>
    
        <!-- BOTÓN PARA MOSTRAR TEST -->
        <div class="text-center mb-5">
          <button id="mostrar-test-patrimonial" class="btn btn-primary btn-lg">
            ¡Sí! Quiero descubrir el tipo de plan que mejor me venga
          </button>
        </div>

        <!-- TEST OCULTO -->
        <div class="test-wrapper mt-4 mb-5" style="display: none; flex-direction: column; align-items: center;">
          <div id="step-counter-patrimonio" class="step-counter">1 de 6</div>

          <form id="test-patrimonio">
            <div class="centered-content">
              <!-- PREGUNTAS -->
              <div class="step active">
                <p>1. ¿Tienes un fondo de emergencia para al menos 3 meses?</p>
                <label><input type="radio" name="q1" value="1" required> Sí</label>
                <label><input type="radio" name="q1" value="0"> No</label>
              </div>
              <div class="step">
                <p>2. ¿Tienes seguro de vida o incapacidad?</p>
                <label><input type="radio" name="q2" value="1" required> Sí</label>
                <label><input type="radio" name="q2" value="0"> No</label>
              </div>
              <div class="step">
                <p>3. ¿Diversificas tus inversiones?</p>
                <label><input type="radio" name="q3" value="1" required> Sí</label>
                <label><input type="radio" name="q3" value="0"> No</label>
              </div>
              <div class="step">
                <p>4. ¿Has hecho testamento o planificación hereditaria?</p>
                <label><input type="radio" name="q4" value="1" required> Sí</label>
                <label><input type="radio" name="q4" value="0"> No</label>
              </div>
              <div class="step">
                <p>5. ¿Conoces tus obligaciones fiscales como inversor?</p>
                <label><input type="radio" name="q5" value="1" required> Sí</label>
                <label><input type="radio" name="q5" value="0"> No</label>
              </div>
              <div class="step">
                <p>6. ¿Has recibido asesoramiento legal o financiero en el último año?</p>
                <label><input type="radio" name="q6" value="1" required> Sí</label>
                <label><input type="radio" name="q6" value="0"> No</label>
              </div>
            </div>

            <!-- BOTONES -->
            <div class="buttons">
              <button type="button" id="prev-btn-patrimonio" class="btn-primary" disabled>Anterior</button>
              <button type="button" id="next-btn-patrimonio" class="btn-primary">Siguiente</button>
            </div>
          </form>

          <!-- RESULTADO FINAL -->
          <div id="diagnostico-final" class="test-result d-none">
            <h3 class="mt-4">🛡️ Diagnóstico de tu Protección Patrimonial</h3>
            <p class="lead"><strong>Resultado:</strong> <span id="nivel-proteccion" class="highlight"></span></p>
            <p id="mensaje-proteccion" class="mb-4"></p>

            <form id="envio-email" class="email-form">
              <label for="emailUsuario">¿Quieres recibir tu diagnóstico por email?</label>
              <input type="email" id="emailUsuario" name="emailUsuario" placeholder="tu@email.com" required>
              <button type="submit" class="btn-primary mt-2">Enviar</button>
            </form>

            <p id="confirmacion-envio" style="display:none;" class="mt-3 text-success">✅ Tu diagnóstico ha sido enviado.</p>

            <a href="#contacto" class="btn btn-success" style="margin-top: 1rem;">Solicitar revisión personalizada</a>
          </div>
        </div>

    
        <!-- Conceptos Clave -->
        <div class="conceptos-box">
          <div class="concepto">
            <h4>📅 Plan de Jubilación</h4>
            <p>Un buen plan asegura ingresos estables cuando dejes de trabajar. Usa fondos indexados y planes de pensiones.</p>
          </div>
          <div class="concepto">
            <h4>📊 Diversificación</h4>
            <p>Distribuye tus inversiones entre ETFs, inmuebles y real estate para minimizar riesgos.</p>
          </div>
          <div class="concepto">
            <h4>🎯 Objetivos Financieros</h4>
            <p>Define metas claras a corto, medio y largo plazo para tener un rumbo seguro.</p>
          </div>
        </div>

    
        <!-- Pilares del Plan de Protección Patrimonial -->
        <div class="mt-5 text-center">
          <h3 class="mb-4" style="margin-top: 5rem;">🧱 Pilares del Plan de Protección Patrimonial</h3>
          <div class="grid-points" style="max-width: 1100px; margin: 0 auto;">
            <div class="point-box">
              <h4>Análisis Patrimonial</h4>
              <p>Inventario detallado de tus activos, ingresos, deudas, situación fiscal y legal. Es el punto de partida para cualquier estrategia.</p>
            </div>
            <div class="point-box">
              <h4>Coberturas Clave</h4>
              <p>Contratación adecuada de seguros de vida, incapacidad, salud y responsabilidad civil para proteger tu núcleo familiar y patrimonial.</p>
            </div>
            <div class="point-box">
              <h4>Diversificación</h4>
              <p>Distribuir tus inversiones entre ETFs, inmuebles, liquidez, commodities y tecnología para reducir el riesgo sin perder rentabilidad.</p>
            </div>
            <div class="point-box">
              <h4>Blindaje Legal</h4>
              <p>Uso estratégico de testamentos, donaciones, sociedades o pactos familiares para asegurar la continuidad de tu legado.</p>
            </div>
            <div class="point-box">
              <h4>Planificación Familiar</h4>
              <p>Organizar el traspaso patrimonial pensando en la estabilidad de tus herederos, integrando educación financiera intergeneracional.</p>
            </div>
            <div class="point-box">
              <h4>Revisión Anual</h4>
              <p>Actualización periódica de tus estructuras de protección según la evolución normativa, económica y personal.</p>
            </div>
          </div>
        </div>
    
        <!-- Ejemplo de Estrategia -->
        <div class="mt-5 text-center">
          <h3 class="mb-3" style="margin-top: 5rem;">📊 Ejemplo de Distribución Patrimonial</h3>
          <div class="table-responsive mt-3" style="max-width: 900px; margin-left: auto; margin-right: auto;">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Categoría</th>
                  <th>% Recomendado</th>
                  <th>Descripción</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Activo Seguro (Bonos, CDTs)</td>
                  <td>30%</td>
                  <td>Preserva capital y genera rendimientos estables.</td>
                </tr>
                <tr>
                  <td>Activo Moderado (ETFs, Acciones)</td>
                  <td>50%</td>
                  <td>Balance entre seguridad y crecimiento.</td>
                </tr>
                <tr>
                  <td>Activo Arriesgado (Criptomonedas, Startups)</td>
                  <td>20%</td>
                  <td>Mayor riesgo pero potencial de crecimiento alto.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
    
        <!-- Botón Redirigir a Calculadora -->
        <div class="text-center mt-5 mb-5">
          <button type="button" class="btn btn-primary btn-lg" style="padding-left: 2rem; padding-right: 2rem;" onclick="window.location.href='#simulador'">Ir a la Calculadora de Interés Compuesto</button>
        </div>
      </div>
    </section>
    
       

    <!-- NEWSLETTER -->
    <section id="newsletter" class="section section-bg-dark">
      <div class="container">
        <h2>Newsletter</h2>
        <p>Únete para recibir contenidos exclusivos.</p>
      </div>
    </section>

    <!-- CONTACTO -->
<!-- SECCIÓN DE CONTACTO -->
<section id="contacto" class="section section-contacto">
  <div class="container contacto-wrapper">

    <h2>Solicita tu asesoría personalizada</h2>

    <!-- Intro compacta -->
    <div class="contacto-intro">
      <p class="subtitulo">Completa este formulario y me pondré en contacto contigo lo antes posible</p>
      <p class="confianza-texto">🔒 Tus datos están seguros. Te responderé personalmente en menos de 48h.</p>
    </div>

    <!-- Aviso modelo -->
    <div id="modelo-aviso" style="display: none;" class="modelo-aviso"></div>

    <!-- Formulario -->
    <form class="contact-form">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre" required>
      </div>

      <div class="form-group">
        <label for="email">Correo electrónico</label>
        <input type="email" id="email" name="email" required>
      </div>

      <div class="form-group">
        <label for="mensaje">Mensaje</label>
        <textarea id="mensaje" name="mensaje" rows="5" required></textarea>
      </div>

      <button type="submit" class="btn-primary">Enviar mensaje</button>

      <!-- Frase inspiradora debajo -->
      <p class="frase-final-contacto">
        No hay inversión más rentable que tomar decisiones con claridad.  
        <br>Estoy aquí para ayudarte.
      </p>

      <!-- Firma -->
      <div class="firma-contacto">
        <p><strong>Carlos</strong><br><span>Asesor financiero</span></p>
      </div>
    </form>

  </div>
</section>



  </main>

  <!-- FOOTER -->
  <footer role="contentinfo">
    <div class="container">
      <div class="footer-social">
        <a href="https://www.linkedin.com/in/tuusuario" target="_blank" aria-label="LinkedIn">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="LinkedIn" />
        </a>
        <a href="https://www.instagram.com/tuusuario" target="_blank" aria-label="Instagram">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram" />
        </a>
        <a href="mailto:tu@email.com" aria-label="Email">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/maildotru.svg" alt="Email" />
        </a>
        <a href="https://wa.me/34xxxxxxxxx" target="_blank" aria-label="WhatsApp">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg" alt="WhatsApp" />
        </a>
      </div>
      <p class="footer-quote">Hecho con pasión financiera. 💼💙</p>
      <p>&copy; 2025 Carlos Asesor Financiero. Todos los derechos reservados.</p>
    </div>
  </footer>
  

  <!-- SCRIPTS -->
  <script>
    // Menú responsive
    document.querySelector('.nav-toggle').onclick = () => {
      document.querySelector('nav ul').classList.toggle('show');
    };
    </script>

  <!-- Test de Perfil -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("test-form");
      const steps = Array.from(document.querySelectorAll("#test-form .step"));
      const nextBtn = document.getElementById("next-btn");
      const prevBtn = document.getElementById("prev-btn");
      const counter = document.getElementById("step-counter");
      const result = document.getElementById("test-result");
      const txt = document.getElementById("perfil-texto");
      const desc = document.getElementById("perfil-desc");
      const retElem = document.getElementById("perfil-return");
      let current = 0;
    
      const perfilInfo = {
        "Conservador": {
          desc: "Buscas seguridad y estabilidad financiera ante todo.",
          return: "5%"
        },
        "Moderado": {
          desc: "Aceptas algo de riesgo para lograr buenos rendimientos a medio plazo.",
          return: "7%"
        },
        "Agresivo": {
          desc: "Buscas maximizar crecimiento, estás dispuesto a asumir mayor volatilidad.",
          return: "10%"
        }
      };
    
      function showStep(i) {
        steps.forEach((s, idx) => s.classList.toggle("active", idx === i));
        prevBtn.disabled = i === 0;
        nextBtn.textContent = i === steps.length - 1 ? "Terminar" : "Siguiente";
        counter.textContent = `${i + 1} de ${steps.length}`;
      }
    
      function goNext() {
        if (current < steps.length - 1) {
          current++;
          showStep(current);
        } else {
          // Al finalizar el test, calcular perfil
          const formData = new FormData(form);
          let score = 0;
          for (const value of formData.values()) {
            score += parseInt(value, 10);
          }
    
          let perfil = "";
          if (score <= 20) perfil = "Conservador ";
          else if (score <= 35) perfil = "Moderado";
          else perfil = "Agresivo";

                const emoji = {
                    "Conservador": "💼",
                    "Moderado": "📈",
                    "Agresivo": "🚀"
                  };
                document.getElementById("emoji-perfil").textContent = emoji[perfil];

          txt.textContent = perfil;
          desc.textContent = perfilInfo[perfil].desc;
          retElem.textContent = perfilInfo[perfil].return;
    
          result.style.display = "block";
          form.style.display = "none";
    
          result.scrollIntoView({ behavior: "smooth" });
        }
      }
    
      nextBtn.addEventListener("click", goNext);
    
      prevBtn.addEventListener("click", () => {
        if (current > 0) {
          current--;
          showStep(current);
        }
      });
    
      form.querySelectorAll("input[type=radio]").forEach(input => {
        input.addEventListener("change", () => {
          setTimeout(goNext, 300);
        });
      });
    
      showStep(0);
    });
    </script>
    

<!-- CALCULADORA DE INTERES COMPUESTO -->
<!-- CDN de Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- CDN de jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<!-- Script de la calculadora -->
<script>
  let chartPie = null;
  let chartBar = null;
  let chartLine = null;
  
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("calculatorForm");
    const resultsBox = document.getElementById("results");
    const gridBox = document.getElementById("resultadosGrid");
    const cerrarBtn = document.getElementById("cerrarCalculoBtn");
  
    form.addEventListener("submit", function (e) {
      e.preventDefault();
  
      const initial = parseFloat(document.getElementById("initialAmount").value);
      const deposit = parseFloat(document.getElementById("periodicDeposit").value);
      const rate = parseFloat(document.getElementById("interestRate").value) / 100;
      const years = parseInt(document.getElementById("years").value);
  
      const result = calculateCompoundInterest(initial, deposit, rate, years);
      displayResults(result, initial);
  
      // Mostrar resultados
      resultsBox.classList.add("show");
      gridBox.classList.add("show");
    });
  
    cerrarBtn.addEventListener("click", function () {
      resultsBox.classList.remove("show");
      gridBox.classList.remove("show");
      form.scrollIntoView({ behavior: "smooth" });
    });
  });
  
  function calculateCompoundInterest(initial, monthlyDeposit, rate, years) {
  let total = initial;
  let totalDeposits = initial;
  let totalInterest = 0;
  let depositTotal = 0; // fuera del bucle
  let data = [];

  for (let year = 1; year <= years; year++) {
  let yearlyDeposit = monthlyDeposit * 12;
  let interest = total * rate;
  total += yearlyDeposit + interest;
  depositTotal += yearlyDeposit; // acumulamos aportaciones
  totalDeposits += yearlyDeposit;
  totalInterest += interest;

  data.push({
    year,
    deposit: yearlyDeposit,
    depositTotal,       // nuevo campo
    interest,
    interestTotal: totalInterest,
    balance: total
  });
}

  return {
    finalTotal: total,
    totalDeposits,
    totalInterest,
    data
  };
}

  
  function displayResults(result, initial) {
    // Números
    document.getElementById("totalSaved").textContent = `€${result.finalTotal.toFixed(2)}`;
    document.getElementById("totalDeposited").textContent = `€${result.totalDeposits.toFixed(2)} (Anual)`;
    document.getElementById("totalInterest").textContent = `€${result.totalInterest.toFixed(2)}`;
  
    // Tablas
    const tbodyLeft = document.getElementById("tableBodyLeft");
    const tbodyRight = document.getElementById("tableBodyRight");
    tbodyLeft.innerHTML = "";
    tbodyRight.innerHTML = "";
  
    result.data.forEach((row, index) => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${row.year}</td>
        <td>€${row.deposit.toFixed(2)}</td>
        <td>€${row.interest.toFixed(2)}</td>
        <td>€${row.balance.toFixed(2)}</td>
      `;
      if (index < 13) {
        tbodyLeft.appendChild(tr);
      } else {
        tbodyRight.appendChild(tr);
      }
    });
  
    // Destruir anteriores
    if (chartPie) chartPie.destroy();
    if (chartBar) chartBar.destroy();
    if (chartLine) chartLine.destroy();
  
    chartPie = new Chart(document.getElementById("pieChart"), {
  type: "pie",
  data: {
    labels: ["Capital Inicial", "Aportaciones Mensuales", "Intereses"],
    datasets: [{
      data: [initial, result.totalDeposits - initial, result.totalInterest],
      backgroundColor: [
        "rgba(192, 132, 252, 0.85)",  // lila (capital inicial)
        "rgba(13, 110, 253, 0.85)",   // azul (aportaciones)
        "rgba(111, 66, 193, 0.85)"    // púrpura (intereses)
      ],
      borderColor: "#ffffff",
      borderWidth: 2,
      hoverOffset: 18
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    animation: {
      animateRotate: true,
      duration: 1000,
      easing: "easeOutQuart"
    },
    plugins: {
      legend: {
        display: false
      },
      tooltip: {
        callbacks: {
          label: function (context) {
            const label = context.label || '';
            const value = context.parsed || 0;
            const total = context.dataset.data.reduce((a, b) => a + b, 0);
            const percentage = ((value / total) * 100).toFixed(1);
            return `${label}: €${value.toLocaleString()} (${percentage}%)`;
          }
        }
      }
    }
  }
});



// ✅ Leyenda personalizada centrada
const leyendaHTML = `
  <div style="display:flex; justify-content:center; gap:1.5rem;">
    <span style="display:flex; align-items:center; gap:0.5rem;">
      <span style="width:14px; height:14px; background:#0d6efd; border-radius:3px;"></span> Aportaciones
    </span>
    <span style="display:flex; align-items:center; gap:0.5rem;">
      <span style="width:14px; height:14px; background:#6f42c1; border-radius:3px;"></span> Intereses
    </span>
    <span style="display:flex; align-items:center; gap:0.5rem;">
      <span style="width:14px; height:14px; background:#c084fc; border-radius:3px;"></span> Capital Inicial
    </span>
  </div>
`;

const leyendaDiv = document.getElementById("leyendaPieChart");
leyendaDiv.innerHTML = leyendaHTML;
leyendaDiv.classList.add("show");



  
// 🔢 Calcular el máximo del año para escalar el eje Y
const maxYAcumulado = Math.ceil(
  Math.max(...result.data.map(d =>
    initial + d.depositTotal + d.interestTotal
  )) * 1.05
);

// 📊 Gráfico de barras acumuladas por año
const ctxAcumulado = document.getElementById("barChartAcumulado");
if (window.chartAcumulado) window.chartAcumulado.destroy(); // Destruir si ya existe

window.chartAcumulado = new Chart(ctxAcumulado, {
  type: "bar",
  data: {
    labels: result.data.map(d => d.year),
    datasets: [
      {
        label: "Capital Inicial",
        data: result.data.map(() => initial),
        backgroundColor: "#c084fc", // lila
        stack: "stack2"
      },
      {
        label: "Aportaciones Acumuladas",
        data: result.data.map(d => d.depositTotal),
        backgroundColor: "#4f81bd", // azul
        stack: "stack2"
      },
      {
        label: "Intereses Acumulados",
        data: result.data.map(d => d.interestTotal),
        backgroundColor: "#76c477", // verde
        stack: "stack2"
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: {
        position: "bottom",
        labels: {
          font: { size: 14, weight: "bold" },
          color: "#333"
        }
      },
      tooltip: {
        callbacks: {
          label: ctx => `€${ctx.raw.toLocaleString()}`
        }
      }
    },
    scales: {
      x: {
        stacked: true,
        grid: { display: false },
        ticks: {
          color: "#555",
          font: { size: 12 }
        },
        barPercentage: 0.7,
        categoryPercentage: 0.6
      },
      y: {
        stacked: true,
        beginAtZero: true,
        max: maxYAcumulado,
        grid: { color: "#e0e0e0" },
        ticks: {
          callback: value => `€${value.toLocaleString()}`,
          color: "#555",
          font: { size: 12 }
        }
      }
    }
  }
});



    };
  
    // Línea de balance acumulado
    chartLine = new Chart(document.getElementById("lineChart"), {
      type: "line",
      data: {
        labels: result.data.map(d => d.year),
        datasets: [{
          label: "Balance Acumulado",
          data: result.data.map(d => d.balance),
          borderColor: "#0d6efd",
          backgroundColor: "rgba(13, 110, 253, 0.15)",
          fill: true,
          tension: 0.3,
          pointRadius: 3,
          pointHoverRadius: 6
        }]
      },
      options: {
        responsive: true,
        animation: {
          duration: 1000,
          easing: "easeOutQuart"
        }
      }
    });
  
  </script>


<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("calculatorForm");
    const results = document.getElementById("results");
    const grid = document.getElementById("resultadosGrid");
    const cerrarBtn = document.getElementById("cerrarCalculoBtn");
  
    form.addEventListener("submit", function (e) {
      e.preventDefault();
  
      const initial = parseFloat(document.getElementById('initialAmount').value);
      const deposit = parseFloat(document.getElementById('periodicDeposit').value);
      const rate = parseFloat(document.getElementById('interestRate').value) / 100;
      const years = parseInt(document.getElementById('years').value);
  
      const result = calculateCompoundInterest(initial, deposit, rate, years);
      displayResults(result, initial);
      mostrarGraficoBarras(result, initial);
  
      // Mostrar bloques
      results.classList.add("show");
      grid.classList.add("show");
    });
  
    cerrarBtn.addEventListener("click", function () {
      results.classList.remove("show");
      grid.classList.remove("show");
      form.scrollIntoView({ behavior: "smooth" });
    });
  });
  </script>
  

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const sections = document.querySelectorAll("section[id]");
    const navLinks = document.querySelectorAll("nav a");
  
    function activateMenu() {
      let current = "";
  
      sections.forEach((section) => {
        const sectionTop = section.offsetTop - 120;
        if (pageYOffset >= sectionTop) {
          current = section.getAttribute("id");
        }
      });
  
      navLinks.forEach((link) => {
        link.classList.remove("active");
        if (link.getAttribute("href") === `#${current}`) {
          link.classList.add("active");
        }
      });
    }
  
    window.addEventListener("scroll", activateMenu);
  });
  </script>
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const btn = document.getElementById("mostrar-test-btn");
      const testBloque = document.getElementById("bloque-test-completo");
  
      btn.addEventListener("click", function () {
        testBloque.style.display = "block";
        testBloque.scrollIntoView({ behavior: "smooth" });
        btn.style.display = "none";
      });
    });
  </script>
  
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const links = document.querySelectorAll(".modelo-btn");
    const contacto = document.querySelector("#contacto");

    links.forEach(link => {
      link.addEventListener("click", function () {
        const modelo = this.getAttribute("data-modelo");
        localStorage.setItem("modeloSolicitado", modelo);
      });
    });

    // Rellenar el campo si se llega al formulario
    const modeloGuardado = localStorage.getItem("modeloSolicitado");
    if (modeloGuardado && contacto) {
      const textarea = contacto.querySelector("textarea, input[name='mensaje']");
      if (textarea) {
        textarea.value = `Hola Carlos, me interesa el modelo de inversión: ${modeloGuardado}`;
      }
      localStorage.removeItem("modeloSolicitado");
    }
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const contacto = document.querySelector("#contacto");
    const aviso = document.getElementById("modelo-aviso");
    const mensaje = document.getElementById("mensaje");

    const modelo = localStorage.getItem("modeloSolicitado");
    if (modelo && contacto) {
      aviso.textContent = `📝 Has solicitado el modelo: ${modelo}`;
      aviso.style.display = "block";

      if (mensaje) {
        mensaje.value = `Hola Carlos, me interesa el modelo de inversión: ${modelo}`;
      }

      localStorage.removeItem("modeloSolicitado");
    }
  });
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  // Mostrar el test al hacer clic en el botón
  const mostrarBtn = document.getElementById("mostrar-test-patrimonial");
  const testWrapper = document.querySelector("#proteccion .test-wrapper");

  if (mostrarBtn && testWrapper) {
    mostrarBtn.addEventListener("click", function () {
      testWrapper.style.display = "flex";
      mostrarBtn.style.display = "none";

      const yOffset = -100;
      const y = testWrapper.getBoundingClientRect().top + window.pageYOffset + yOffset;
      window.scrollTo({ top: y, behavior: "smooth" });
    });
  }

  // Lógica del test
  const form = document.getElementById("test-patrimonio");
  const steps = Array.from(form.querySelectorAll(".step"));
  const nextBtn = document.getElementById("next-btn-patrimonio");
  const prevBtn = document.getElementById("prev-btn-patrimonio");
  const counter = document.getElementById("step-counter-patrimonio");
  const result = document.getElementById("diagnostico-final");
  const mensaje = document.getElementById("mensaje-proteccion");
  const nivel = document.getElementById("nivel-proteccion");

  let current = 0;

  function showStep(i) {
    steps.forEach((step, idx) => {
      step.classList.toggle("active", idx === i);
    });
    prevBtn.disabled = i === 0;
    nextBtn.textContent = i === steps.length - 1 ? "Ver resultado" : "Siguiente";
    counter.textContent = `${i + 1} de ${steps.length}`;
  }

  function calcularResultado() {
    const formData = new FormData(form);
    let score = 0;
    for (const val of formData.values()) {
      score += parseInt(val, 10);
    }

    if (score >= 5) {
      nivel.textContent = "Alta";
      mensaje.textContent = "✅ ¡Estás bastante bien cubierto! Tu protección patrimonial es sólida. Puedes optimizar algunos puntos.";
    } else if (score >= 3) {
      nivel.textContent = "Media";
      mensaje.textContent = "⚠️ Estás en el camino, pero aún hay áreas clave por reforzar en tu estrategia patrimonial.";
    } else {
      nivel.textContent = "Baja";
      mensaje.textContent = "🚨 Necesitas estructurar urgentemente tu protección patrimonial. Podemos ayudarte paso a paso.";
    }

    form.style.display = "none";
    counter.style.display = "none";
    result.classList.remove("d-none");
  }

  function goNext() {
    if (current < steps.length - 1) {
      current++;
      showStep(current);
    } else {
      calcularResultado();
    }
  }

  nextBtn.addEventListener("click", goNext);

  prevBtn.addEventListener("click", () => {
    if (current > 0) {
      current--;
      showStep(current);
    }
  });

  // Avance automático al seleccionar una opción
  form.querySelectorAll("input[type=radio]").forEach(input => {
    input.addEventListener("change", () => {
      setTimeout(() => {
        if (!nextBtn.disabled) nextBtn.click();
      }, 200);
    });
  });

  showStep(0);
});
</script>





</body>
</html>
