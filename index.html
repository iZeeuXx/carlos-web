<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carlos • Asesoría Financiera</title>

<script>
  const formatter = new Intl.NumberFormat('es-ES', {
    style: 'currency',
    currency: 'EUR',
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  });
</script>

  <link rel="stylesheet" href="style.css" >
  <!-- Chart.js (cargado una sola vez) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

</head>
<body>

  <!-- HEADER + NAV -->
  <header role="banner">
    <div class="container">
      <h1 class="logo">Carlos • Asesoría Financiera</h1>
      <button class="nav-toggle" aria-label="Abrir menú">☰</button>
      <nav role="navigation" aria-label="Menú principal">
        <ul>
          <li><a href="#inicio">Inicio</a></li>
          <li><a href="#quien-soy">Quién Soy</a></li>
          <li><a href="#casos-exito">Casos de Éxito</a></li>
          <li><a href="#asesorias">Asesorías</a></li>
          <li><a href="#modelos">Modelos</a></li>
          <li><a href="#test-perfil">Test Perfil</a></li>
          <li><a href="#simulador">Simulador</a></li>
          <li><a href="#aportaciones">Aportaciones</a></li>
          <li><a href="#proteccion">Protección</a></li>
          <li><a href="#newsletter">Newsletter</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main>
    <!-- Inicio -->
    
  

    <!-- Protección Patrimonial -->
    


<script>
const formatter = new Intl.NumberFormat('es-ES', {
  style: 'currency',
  currency: 'EUR',
  minimumFractionDigits: 2,
  maximumFractionDigits: 2
});

function calcular() {
  const balanceInput = document.getElementById('balance').value;
  const depositInput = document.getElementById('deposit').value;
  const rateInput = document.getElementById('rate').value;

  if (!balanceInput || !depositInput || !rateInput) {
    alert("Por favor, completa todos los campos antes de calcular.");
    return;
  }

  const balanceInicial = parseFloat(balanceInput);
  const deposito = parseFloat(depositInput);
  const frecuencia = parseInt(document.getElementById('frequency').value);
  const tasaAnual = parseFloat(rateInput) / 100;
  const anios = parseInt(document.getElementById('years').value);

  if (isNaN(balanceInicial) || isNaN(deposito) || isNaN(tasaAnual) || isNaN(anios)) {
    alert("Hay un error con los valores introducidos.");
    return;
  }

  let balanceTotal = balanceInicial;
  const dataTotal = [], dataDeposito = [], dataInteres = [];

  for (let i = 1; i <= anios; i++) {
    for (let j = 0; j < frecuencia; j++) {
      balanceTotal += deposito;
      balanceTotal *= (1 + tasaAnual / frecuencia);
    }
    dataTotal.push(balanceTotal);
    dataDeposito.push(deposito * frecuencia * i);
    dataInteres.push(balanceTotal - balanceInicial - deposito * frecuencia * i);
  }

  const final = isFinite(balanceTotal) ? formatter.format(balanceTotal) : balanceTotal.toFixed(2) + " €";
  document.getElementById('result').innerText = `Puedes ahorrar ${final} con ${formatter.format(deposito)} durante ${anios} años.`;

  mostrarGrafica(dataTotal, dataDeposito, dataInteres, anios);
}

function mostrarGrafica(total, depositos, interes, anios) {
  const ctx = document.getElementById('chart').getContext('2d');
  if (window.chart) window.chart.destroy();
  window.chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: anios }, (_, i) => `Año ${i + 1}`),
      datasets: [
        {
          label: 'Balance total',
          data: total,
          fill: true,
          backgroundColor: 'rgba(33, 150, 243, 0.2)',
          borderColor: '#2196f3',
          tension: 0.3
        },
        {
          label: 'Depósitos periódicos',
          data: depositos,
          borderColor: '#ff9800',
          tension: 0.3,
          borderDash: [5, 5]
        },
        {
          label: 'Interés generado',
          data: interes,
          borderColor: '#4caf50',
          tension: 0.3,
          borderDash: [2, 2]
        }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        tooltip: {
          callbacks: {
            label: (context) => formatter.format(context.raw)
          }
        },
        legend: {
          position: 'top'
        }
      },
      scales: {
        y: {
          ticks: {
            callback: (val) => formatter.format(val)
          }
        }
      }
    }
  });
}

document.getElementById('years').addEventListener('input', e => {
  document.getElementById('years-value').textContent = e.target.value;
});
</script>



<section id="simulador" style="margin: 2rem auto; max-width: 900px; padding: 2rem; background: #fff; border-radius: 16px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05); font-family: 'Inter', sans-serif;">
  <h2 style="color: #e76f51;">Calculadora de Interés Compuesto</h2>
  <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem;">
    <div style="flex: 1 1 200px;">
      <label>Balance inicial (€)</label>
      <input id="balance" type="number" value="25000" style="width: 100%; padding: 0.5rem; border-radius: 8px;">
    </div>
    <div style="flex: 1 1 200px;">
      <label>Depósito periódico (€)</label>
      <input id="deposit" type="number" value="200" style="width: 100%; padding: 0.5rem; border-radius: 8px;">
    </div>
    <div style="flex: 1 1 200px;">
      <label>Frecuencia</label>
      <select id="frequency" style="width: 100%; padding: 0.5rem; border-radius: 8px;">
        <option value="12">Mensual</option>
        <option value="4">Trimestral</option>
        <option value="1">Anual</option>
      </select>
    </div>
    <div style="flex: 1 1 200px;">
      <label>Tasa anual (%)</label>
      <input id="rate" type="number" value="6" style="width: 100%; padding: 0.5rem; border-radius: 8px;">
    </div>
  </div>
  <div style="margin-bottom: 1rem;">
    <label>Duración (años): <span id="years-value">10</span></label>
    <input id="years" type="range" min="1" max="30" value="10" style="width: 100%;">
  </div>
  <button onclick="calcular()" style="padding: 0.75rem 1.5rem; background: #e76f51; color: white; border: none; border-radius: 8px;">Calcular</button>
  <div class="result" id="result" style="margin-top: 1.5rem; font-weight: bold;"></div>
  <canvas id="chart" style="margin-top: 2rem;"></canvas>
</section>


<script>
const formatter = new Intl.NumberFormat('es-ES', {
  style: 'currency',
  currency: 'EUR',
  minimumFractionDigits: 2,
  maximumFractionDigits: 2
});

function calcular() {
  const balanceInput = document.getElementById('balance').value;
  const depositInput = document.getElementById('deposit').value;
  const rateInput = document.getElementById('rate').value;

  if (!balanceInput || !depositInput || !rateInput) {
    alert("Por favor, completa todos los campos antes de calcular.");
    return;
  }

  const balanceInicial = parseFloat(balanceInput);
  const deposito = parseFloat(depositInput);
  const frecuencia = parseInt(document.getElementById('frequency').value);
  const tasaAnual = parseFloat(rateInput) / 100;
  const anios = parseInt(document.getElementById('years').value);

  if (isNaN(balanceInicial) || isNaN(deposito) || isNaN(tasaAnual) || isNaN(anios)) {
    alert("Hay un error con los valores introducidos.");
    return;
  }

  let balanceTotal = balanceInicial;
  const dataTotal = [], dataDeposito = [], dataInteres = [];

  for (let i = 1; i <= anios; i++) {
    for (let j = 0; j < frecuencia; j++) {
      balanceTotal += deposito;
      balanceTotal *= (1 + tasaAnual / frecuencia);
    }
    dataTotal.push(balanceTotal);
    dataDeposito.push(deposito * frecuencia * i);
    dataInteres.push(balanceTotal - balanceInicial - deposito * frecuencia * i);
  }

  const final = isFinite(balanceTotal) ? formatter.format(balanceTotal) : balanceTotal.toFixed(2) + " €";
  document.getElementById('result').innerText = `Puedes ahorrar ${final} con ${formatter.format(deposito)} durante ${anios} años.`;

  mostrarGrafica(dataTotal, dataDeposito, dataInteres, anios);
}

function mostrarGrafica(total, depositos, interes, anios) {
  const ctx = document.getElementById('chart').getContext('2d');
  if (window.chart) window.chart.destroy();
  window.chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({ length: anios }, (_, i) => `Año ${i + 1}`),
      datasets: [
        {
          label: 'Balance total',
          data: total,
          fill: true,
          backgroundColor: 'rgba(33, 150, 243, 0.2)',
          borderColor: '#2196f3',
          tension: 0.3
        },
        {
          label: 'Depósitos periódicos',
          data: depositos,
          borderColor: '#ff9800',
          tension: 0.3,
          borderDash: [5, 5]
        },
        {
          label: 'Interés generado',
          data: interes,
          borderColor: '#4caf50',
          tension: 0.3,
          borderDash: [2, 2]
        }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        tooltip: {
          callbacks: {
            label: (context) => formatter.format(context.raw)
          }
        },
        legend: {
          position: 'top'
        }
      },
      scales: {
        y: {
          ticks: {
            callback: (val) => formatter.format(val)
          }
        }
      }
    }
  });
}

document.getElementById('years').addEventListener('input', e => {
  document.getElementById('years-value').textContent = e.target.value;
});
</script>


</main>

  <!-- FOOTER -->
  <footer role="contentinfo">
    <div class="container">
      <p>&copy; 2025 Carlos Asesor Financiero. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- Scripts generales -->
  <script>
    // Toggle menú móvil
    document.querySelector('.nav-toggle').onclick = () => {
      document.querySelector('nav ul').classList.toggle('show');
    };
  </script>

  <!-- Test de Perfil Inline -->
  <script>
    (function(){
      const steps       = Array.from(document.querySelectorAll('#test-perfil .step'));
      const prevBtn     = document.getElementById('prev-btn');
      const nextBtn     = document.getElementById('next-btn');
      const form        = document.getElementById('test-form');
      const result      = document.getElementById('test-result');
      const txt         = document.getElementById('perfil-texto');
      const desc        = document.getElementById('perfil-desc');
      const retElem     = document.getElementById('perfil-return');
      const counterElem = document.getElementById('step-counter');
      const total       = steps.length;
      let current       = 0;
    
      // Map de perfiles a rangos y tasas
      const map = {
        'Conservador': { range:'4–5%',   rate:4.5 },
        'Moderado':    { range:'7–8%',   rate:7.5 },
        'Agresivo':    { range:'10–12%', rate:11  }
      };
    
      function showStep(i) {
        steps.forEach((s, idx) => s.classList.toggle('active', idx === i));
        prevBtn.disabled          = i === 0;
        nextBtn.textContent       = i === total - 1 ? 'Terminar' : 'Siguiente';
        counterElem.textContent   = `${i+1} de ${total}`;
      }
    
      prevBtn.addEventListener('click', () => {
        if (current > 0) showStep(--current);
      });
    
      nextBtn.addEventListener('click', () => {
        const checked = [...steps[current].querySelectorAll('input')].some(i => i.checked);
        if (!checked) return alert('Selecciona una opción');
        if (current < total - 1) {
          showStep(++current);
        } else {
          // calculamos perfil
          const score = [...new FormData(form).values()]
                          .reduce((sum,v)=>sum+parseInt(v,10),0);
          let perfil;
          if (score <= 20)      perfil = 'Conservador';
          else if (score <= 35) perfil = 'Moderado';
          else                  perfil = 'Agresivo';
    
          // llenamos resultado
          const info = map[perfil];
          txt.textContent    = perfil;
          desc.textContent   = info.range==='4–5%' 
                              ? 'Buscas seguridad.' 
                              : (perfil==='Moderado'
                                  ? 'Aceptas volatilidad.' 
                                  : 'Asumes riesgo.');
          retElem.textContent = info.range;
          result.style.display = 'block';
          form.style.display   = 'none';
    
          // prefill simuladores
          const simRate = document.getElementById('tasa');
          if (simRate) simRate.value = info.rate;
          const simRateM = document.getElementById('tasa_m');
          if (simRateM) simRateM.value = info.rate;
    
          // hacemos scroll al simulador
          document.getElementById('simulador').scrollIntoView({ behavior:'smooth' });
        }
      });
    
      document.addEventListener('DOMContentLoaded', () => showStep(0));
    })();
  </script>
    
  <!-- Simulador de Interés Compuesto -->
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('simulador-form');
    const ctx  = document.getElementById('simulador-chart').getContext('2d');
    let chart  = null;

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const P     = parseFloat(form.principal.value);
      const rA    = parseFloat(form.tasa.value) / 100;
      const n     = parseInt(form.años.value, 10);
      const i     = parseFloat(form.inflacion.value) / 100;
      const t     = parseFloat(form.impuestos.value) / 100;
      const rNetA = rA * (1 - t);

      const labels           = [];
      const nominalData      = [];
      const realData         = [];
      const afterTaxData     = [];
      const realAfterTaxData = [];

      for (let year = 0; year <= n; year++) {
        labels.push(`Año ${year}`);
        const Vn  = P * Math.pow(1 + rA, year);
        nominalData.push(+Vn.toFixed(2));
        realData.push(+(Vn / Math.pow(1 + i, year)).toFixed(2));
        const Vat = P * Math.pow(1 + rNetA, year);
        afterTaxData.push(+Vat.toFixed(2));
        realAfterTaxData.push(+(Vat / Math.pow(1 + i, year)).toFixed(2));
      }

      const datasets = [
        { label: 'Nominal',             data: nominalData,      fill: false, tension: 0.3 },
        { label: 'Real (inflación)',    data: realData,         fill: false, tension: 0.3 },
        { label: 'Neto tras impuestos', data: afterTaxData,     fill: false, tension: 0.3 },
        { label: 'Real neto (inf+imp)', data: realAfterTaxData, fill: false, tension: 0.3 }
      ];

      if (chart) {
        chart.data.labels   = labels;
        chart.data.datasets = datasets;
        chart.update();
      } else {
        chart = new Chart(ctx, {
          type: 'line',
          data: { labels, datasets },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: true } }
          }
        });
      }
    });
  });
  </script>

  <!-- Simulador con Aportaciones Mensuales -->
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const formM = document.getElementById('aportaciones-form');
    const ctxM  = document.getElementById('aportaciones-chart').getContext('2d');
    let chartM  = null;

    formM.addEventListener('submit', function(e) {
      e.preventDefault();
      const P      = parseFloat(formM.principal.value);
      const rA     = parseFloat(formM.tasa.value) / 100;
      const years  = parseInt(formM.años.value, 10);
      const C      = parseFloat(formM.mensual.value);
      const i      = parseFloat(formM.inflacion.value) / 100;
      const t      = parseFloat(formM.impuestos.value) / 100;
      const rM     = rA / 12;
      const rNetA  = rA * (1 - t);
      const rNetM  = rNetA / 12;

      const labels       = [];
      const nominal      = [];
      const real         = [];
      const afterTax     = [];
      const realAfterTax = [];

      for (let y = 0; y <= years; y++) {
        const months = y * 12;
        labels.push(`Año ${y}`);

        const VnP = P * Math.pow(1 + rA, y);
        const VnC = months > 0
          ? C * ((Math.pow(1 + rM, months) - 1) / rM)
          : 0;
        const Vnom = VnP + VnC;
        nominal.push(+Vnom.toFixed(2));
        real.push(+(Vnom / Math.pow(1 + i, y)).toFixed(2));

        const VtP = P * Math.pow(1 + rNetA, y);
        const VtC = months > 0
          ? C * ((Math.pow(1 + rNetM, months) - 1) / rNetM)
          : 0;
        const Vtax = VtP + VtC;
        afterTax.push(+Vtax.toFixed(2));
        realAfterTax.push(+(Vtax / Math.pow(1 + i, y)).toFixed(2));
      }

      const datasetsM = [
        { label: 'Nominal',             data: nominal,      fill: false, tension: 0.3 },
        { label: 'Real (inflación)',    data: real,         fill: false, tension: 0.3 },
        { label: 'Neto impuestos',      data: afterTax,     fill: false, tension: 0.3 },
        { label: 'Real neto (inf+imp)', data: realAfterTax, fill: false, tension: 0.3 }
      ];

      if (chartM) {
        chartM.data.labels   = labels;
        chartM.data.datasets = datasetsM;
        chartM.update();
      } else {
        chartM = new Chart(ctxM, {
          type: 'line',
          data: { labels, datasets: datasetsM },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: true } }
          }
        });
      }
    });
  });
  </script>
  <script>
    (function(){
      const steps       = Array.from(document.querySelectorAll('#test-perfil .step'));
      const prevBtn     = document.getElementById('prev-btn');
      const nextBtn     = document.getElementById('next-btn');
      const form        = document.getElementById('test-form');
      const result      = document.getElementById('test-result');
      const txt         = document.getElementById('perfil-texto');
      const desc        = document.getElementById('perfil-desc');
      const counterElem = document.getElementById('step-counter');
      const total       = steps.length;
      let current       = 0;
    
      function showStep(i) {
        steps.forEach((s, idx) => s.classList.toggle('active', idx === i));
        prevBtn.disabled = i === 0;
        nextBtn.textContent = i === total - 1 ? 'Terminar' : 'Siguiente';
        counterElem.textContent = `${i+1} de ${total}`;
      }
    
      prevBtn.addEventListener('click', () => {
        if (current > 0) showStep(--current);
      });
    
      nextBtn.addEventListener('click', () => {
        const checked = [...steps[current].querySelectorAll('input')].some(i => i.checked);
        if (!checked) return alert('Selecciona una opción');
        if (current < total - 1) {
          showStep(++current);
        } else {
          // Calcular perfil
          const score = [...new FormData(form).values()]
                          .reduce((sum,v)=>sum+parseInt(v,10), 0);
          let perfil, pd;
          if (score <= 20)      [perfil,pd]=['Conservador','Buscas seguridad.'];
          else if (score <= 35) [perfil,pd]=['Moderado','Aceptas volatilidad.'];
          else                  [perfil,pd]=['Agresivo','Asumes riesgo.'];
          txt.textContent    = perfil;
          desc.textContent   = pd;
          result.style.display = 'block';
          form.style.display   = 'none';
        }
      });
    
      document.addEventListener('DOMContentLoaded', () => showStep(0));
    })();
    </script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      const initEl    = document.getElementById('initialBalance');
      const depAmtEl  = document.getElementById('depositAmount');
      const depFreqEl = document.getElementById('depositFreq');
      const depTimeEl = document.getElementById('depositTiming');
      const rateEl    = document.getElementById('annualRate');
      const durEl     = document.getElementById('duration');
      const durVal    = document.getElementById('durationValue');
      const btn       = document.getElementById('calcButton');
      const resultDiv = document.getElementById('compoundResult');
      const resultTxt = document.getElementById('resultText');
      const pieCtx    = document.getElementById('pieChart').getContext('2d');
      const barCtx    = document.getElementById('barChart').getContext('2d');
      const tableBody = document.querySelector('#resultTable tbody');
      let pieChart, barChart;
    
      // Slider label
      durEl.addEventListener('input', () => durVal.textContent = durEl.value);
    
      btn.addEventListener('click', () => {
        // 1) Leer inputs
        const P       = +initEl.value;
        const C       = +depAmtEl.value;
        const freq    = depFreqEl.value;           // 'monthly' o 'yearly'
        const atStart = depTimeEl.value === 'start';
        const r       = +rateEl.value / 100;
        const yrs     = +durEl.value;
        const periodRate = freq === 'monthly' ? r/12 : r;
    
        // 2) Calcular arrays por año
        let balance = P, totalDeps = 0, totalInt = 0;
        const labels = [], depsArr = [], intArr = [], balArr = [];
    
        for (let y = 1; y <= yrs; y++) {
          let yearDeps = 0, yearInt = 0;
          if (freq === 'monthly') {
            for (let m = 1; m <= 12; m++) {
              if (atStart) { balance += C; yearDeps += C; }
              const intr = balance * periodRate;
              yearInt += intr; balance += intr;
              if (!atStart) { balance += C; yearDeps += C; }
            }
          } else {
            if (atStart) { balance += C; yearDeps += C; }
            const intr = balance * periodRate;
            yearInt += intr; balance += intr;
            if (!atStart) { balance += C; yearDeps += C; }
          }
          totalDeps += yearDeps;
          totalInt  += yearInt;
          labels.push(`Año ${y}`);
          depsArr.push(yearDeps);
          intArr.push(yearInt);
          balArr.push(+balance.toFixed(2));
        }
    
        // Texto de resultado
        resultTxt.textContent =
          `Puedes ahorrar ${balance.toLocaleString()} € con ${C.toLocaleString()} € ${
            freq === 'monthly' ? 'mensuales' : 'anuales'
          } durante ${yrs} años`;
    
        // 3) Datos para el doughnut
        const pieData   = [P, totalDeps, totalInt];
        const pieLabels = ['Balance inicial','Depósitos periódicos','Interés total'];
    
        // ─── Doughnut Chart ───
        if (pieChart) {
          pieChart.data.datasets[0].data = pieData;
          pieChart.update();
        } else {
          pieChart = new Chart(pieCtx, {
            type: 'doughnut',
            data: { labels: pieLabels, datasets: [{
              data: pieData,
              backgroundColor: ['#5EB8FF','#FF6F61','#FFBD2E'],
              borderColor: ['#fff','#fff','#fff'],
              borderWidth: 2,
              cutout: '60%'
            }]},
            options: {
              responsive: true,
              maintainAspectRatio: false,
              layout: { padding:20 },
              plugins: {
                legend: { position:'bottom' },
                tooltip: { callbacks: { label: ctx => `${ctx.label}: ${ctx.parsed} €` }},
                datalabels: {
                  color:'#fff',
                  font:{ size:14, weight:'bold' },
                  formatter:(v,ctx)=>{
                    const sum = ctx.chart.data.datasets[0].data.reduce((a,b)=>a+b,0);
                    return (v/sum*100).toFixed(1)+'%';
                  },
                  anchor:'center',
                  clamp:true
                }
              }
            },
            plugins:[ChartDataLabels]
          });
        }
    
        // ─── Line Chart ───
        const barDatasets = [
          { label:'Balance total', data:balArr, fill:true, backgroundColor:'rgba(94,184,255,0.3)', borderColor:'#5EB8FF', tension:0.4, pointRadius:3 },
          { label:'Depósitos periódicos', data:depsArr, fill:false, borderColor:'#FF6F61', tension:0.3 },
          { label:'Interés generado', data:intArr, fill:false, borderColor:'#FFBD2E', borderDash:[5,5], tension:0.3 }
        ];
    
        if (barChart) {
          barChart.data.labels   = labels;
          barChart.data.datasets = barDatasets;
          barChart.update();
        } else {
          barChart = new Chart(barCtx, {
            type: 'line',
            data: { labels, datasets: barDatasets },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              scales: {
                x: { title:{ display:true, text:'Año' } },
                y: { beginAtZero:true, ticks:{ callback: v=>v.toLocaleString() } }
              },
              plugins: {
                legend:{ position:'top' },
                tooltip:{ callbacks:{ label: ctx=>`${ctx.dataset.label}: ${ctx.parsed.y.toLocaleString()} €` }}
              }
            },
            plugins:[ChartDataLabels]
          });
        }
    
        // ─── Tabla ───
        tableBody.innerHTML = '';
        depsArr.forEach((d,i) => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${i+1}</td>
            <td>${d.toLocaleString()}</td>
            <td>${(P + depsArr.slice(0,i+1).reduce((a,b)=>a+b,0)).toLocaleString()}</td>
            <td>${intArr[i].toLocaleString()}</td>
            <td>${balArr[i].toLocaleString()}</td>
          `;
          tableBody.appendChild(tr);
        });
    
        // Mostrar sección y hacer scroll
        resultDiv.style.display = 'block';
        resultDiv.scrollIntoView({behavior:'smooth'});
      });
    });
    </script>
    
      
</body>
</html>
